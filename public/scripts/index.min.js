!function(a){function j(a,b,c,d){void 0===d&&(d=!0);var e=-1;return function(){var g,f=[];for(g=0;g<arguments.length;g++)f[g]=arguments[g];-1!==e&&clearTimeout(e),d?(-1===e&&a.apply(void 0,f),e=setTimeout(function(){e=-1,c&&c()},b)):e=setTimeout(function(){a.apply(void 0,f),c&&c()},b)}}function k(){return(a.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop)+(document.documentElement.clientHeight||document.body.clientHeight)}function l(a){for(var b=a.offsetTop,c=a.offsetParent;null!==c;)b+=c.offsetTop,c=c.offsetParent;return b}function m(){for(g=0;g<d.length;++g)!function(b){var g,j,m,n,o;f!==c&&(e[b]||(g=l(d[b]),j=k()>=g,j&&(m=d[b].querySelector(".el-image__error"),n=d[b].querySelector("img"),o=n.getAttribute("data-src"),ajax({type:"GET",url:o,async:!0,dataType:"blob",success:function(c){m.classList.add("not-exist"),n.src=a.URL.createObjectURL(c),n.onload=function(){a.URL.revokeObjectURL(n.src)},n.classList.remove("not-exist"),e[b]=!0,++f},error:function(){showMsg(h,i,"图片加载失败","error")}}))))}(g)}var g,h,i,b=a.document,c=6,d=[],e=[],f=0;for(g=1;c>=g;++g)!function(a){var c=b.querySelector("#image-list-item-"+a);d.push(c),e.push(!1)}(g);h=b.querySelector("#index-error-message"),i=h.querySelector("p"),m(),a.addEventListener("scroll",j(function(){m()},100))}(window);
